{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { getallUsers, saveUsers, Login, UpdateAccount, DeleteUser } from \"./LoginApi\";\n;\nconst initialState = {\n  users: [{\n    _id: \"\",\n    username: \"AungNyi\",\n    password: \"accmobile\",\n    email: \"\",\n    age: \"\"\n  }]\n};\nexport const apiGetAllUsers = createAsyncThunk('movie/GetallUser', async () => {\n  console.log(\"API get all users\");\n  const response = await getallUsers();\n  console.log(\"All users \", response.data);\n  return response.data;\n});\nexport const apiSaveUsers = createAsyncThunk('movie/saveMovie', async users => {\n  console.log(\"API save  movie\");\n  const response = await saveUsers(users);\n  console.log(\"save movie json \", response.data);\n  return response.data;\n});\nexport const UpdateAccount_ = createAsyncThunk('movie/saveMovie', async users => {\n  console.log(\"API update  account\");\n  const response = await UpdateAccount(users);\n  console.log(\"Update account json \", response.data);\n  return response.data;\n});\nexport const login = createAsyncThunk('movie/saveMovie', async users => {\n  console.log(\"API save  movie\");\n  const response_ = await Login(users);\n  console.log(\"save movie json \", response_.data);\n  return response_.data;\n});\nexport const DeleteUser_ = createAsyncThunk('movie/saveMovie', async users => {\n  console.log(\"API save  movie\");\n  const response_ = await DeleteUser(users);\n  console.log(\"save movie json \", response_.data);\n  return response_.data;\n});\nexport const movieSlice = createSlice({\n  name: 'Users',\n  initialState,\n  reducers: {\n    addUsers: (state, action) => {//state.items = [...state.items, action.payload];\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(apiGetAllUsers.fulfilled, (state, action) => {\n      console.log(\"Api fullfilled \", action.payload);\n      state.users = action.payload;\n    }).addCase(login.fulfilled, (state, action) => {\n      console.log(\"Api save users fulfilled \", action.payload);\n      state.users = [...state.users, action.payload];\n    });\n  }\n});\nexport const {\n  addUsers\n} = movieSlice.actions;\nexport const selectUser = state => state.user.users;\nexport const selectUserById = (state, userId) => state.user.users.filter(user => user._id == userId)[0];\nexport default movieSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","getallUsers","saveUsers","Login","UpdateAccount","DeleteUser","initialState","users","_id","username","password","email","age","apiGetAllUsers","console","log","response","data","apiSaveUsers","UpdateAccount_","login","response_","DeleteUser_","movieSlice","name","reducers","addUsers","state","action","extraReducers","builder","addCase","fulfilled","payload","actions","selectUser","user","selectUserById","userId","filter","reducer"],"sources":["/Users/aungzay/Desktop/FoodShop/src/features/Login/UsersSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState, AppThunk } from '../../app/store';\nimport {ToDo, ToDoList} from \"../todos/todoSlice\";\nimport {getallUsers,saveUsers,Login, registerUser, UpdateAccount, DeleteUser} from \"./LoginApi\";\n\nexport interface Users {\n    // _id? : string,\n    // title: string,\n    // year: number,\n    // image_adress:string,\n    // background_img:string,\n    // color:string,\n    // summary:string\n    _id? : string,\n    username:string,\n    password:string,\n    email:string,\n    age:string\n};\nexport interface User1 {\n    id?:string,\n    userName:string,\n    password:string,\n    email:string,\n    age:string\n}\nexport interface users {\n    users: Array<Users>\n}\n\nconst initialState: users = {\n    users : [\n        {\n            _id:\"\",\n            username:\"AungNyi\",\n            password:\"accmobile\",\n            email:\"\",\n            age:\"\"\n        }\n    ]\n};\nexport const apiGetAllUsers = createAsyncThunk(\n    'movie/GetallUser',\n    async () => {\n        console.log(\"API get all users\");\n        const response = await getallUsers();\n\n        console.log(\"All users \",response.data);\n        return response.data;\n    }\n);\nexport const apiSaveUsers = createAsyncThunk(\n    'movie/saveMovie',\n    async (users:Users) => {\n        console.log(\"API save  movie\");\n        const response = await saveUsers(users);\n\n        console.log(\"save movie json \",response.data);\n        return response.data;\n    }\n);\nexport const UpdateAccount_ = createAsyncThunk(\n    'movie/saveMovie',\n    async (users:Users) => {\n        console.log(\"API update  account\");\n        const response = await UpdateAccount(users);\n\n        console.log(\"Update account json \",response.data);\n        return response.data;\n    }\n);\nexport const login = createAsyncThunk(\n    'movie/saveMovie',\n    async (users:Users) => {\n        console.log(\"API save  movie\");\n        const response_ = await Login(users);\n\n        console.log(\"save movie json \",response_.data);\n        return response_.data;\n    }\n);\nexport const DeleteUser_ = createAsyncThunk(\n    'movie/saveMovie',\n    async (users:Users) => {\n        console.log(\"API save  movie\");\n        const response_ = await DeleteUser(users);\n\n        console.log(\"save movie json \",response_.data);\n        return response_.data;\n    }\n);\nexport const movieSlice = createSlice({\n    name: 'Users',\n    initialState,\n    reducers: {\n        addUsers: (state, action: PayloadAction<ToDo>) => {\n            //state.items = [...state.items, action.payload];\n        },\n\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(apiGetAllUsers.fulfilled, (state, action) => {\n                console.log(\"Api fullfilled \", action.payload);\n                state.users = action.payload;\n\n            })\n            .addCase(login.fulfilled, (state, action) => {\n                console.log(\"Api save users fulfilled \", action.payload);\n                state.users = [...state.users, action.payload];\n\n            })\n    }\n});\n\nexport const { addUsers } = movieSlice.actions;\nexport const selectUser = (state: RootState) => state.user.users;\nexport const selectUserById =  (state: RootState,userId:string) => state.user.users.filter(user=>user._id ==userId)[0];\nexport default movieSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}