{"ast":null,"code":"var _s2 = $RefreshSig$();\n\nimport { API_URL } from \"../setting/API\";\nimport axios from \"../setting/our_axios\";\nimport { useEffect, useState } from \"react\";\nconst API = API_URL + \"/messages/getAllMessages\";\nconst API2 = API_URL + \"/messages\";\nexport function getAllMessage() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const getPosts = async () => {\n    _s();\n\n    const [posts, setPosts] = useState([]);\n\n    try {\n      const userPosts = await axios.get(API);\n      setPosts(userPosts.data); // set State\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  _s(getPosts, \"QFg9xhJ0x9yrnvUQrdhfY5IZlDs=\");\n\n  useEffect(() => {\n    getPosts();\n    return posts;\n  }, []);\n}\n\n_s2(getAllMessage, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\nexport function saveMessage(message) {\n  console.log('Save movie backend ', message);\n  return axios.post(API2, message);\n}\nexport function deleteMessage(message) {\n  console.log('Save movie backend ', message);\n  let id = message._id;\n  console.log(id);\n  console.log(API2, \"/\", id);\n  return axios.delete(API2 + \"/\" + id);\n}","map":{"version":3,"names":["API_URL","axios","useEffect","useState","API","API2","getAllMessage","getPosts","posts","setPosts","userPosts","get","data","err","console","error","message","saveMessage","log","post","deleteMessage","id","_id","delete"],"sources":["/Users/aungzay/Downloads/TuringReact3rdBatch-master 3/react-redux-typescript/src/message/messageApi.ts"],"sourcesContent":["import {API_URL} from \"../setting/API\";\nimport {Message_} from \"./messageSlice\";\nimport axios from \"../setting/our_axios\";\nimport { useEffect, useState } from \"react\";\n\n\nconst API = API_URL+\"/messages/getAllMessages\"\nconst API2 = API_URL+\"/messages\"\n\nexport function getAllMessage() {\n    const getPosts = async () => {\n        const [posts, setPosts]=useState([])\n        try {\n      const userPosts = await axios.get(API)\n          \n          setPosts(userPosts.data);  // set State\n        \n        } catch (err) {\n          console.error(err.message);\n        }\n      };\n      useEffect(()=>{\n        \n        getPosts()\n        return posts\n    },[])\n}\nexport function saveMessage(message:Message_){\n    console.log('Save movie backend ',message);\n    return axios.post(API2,message);\n}\nexport function deleteMessage(message:Message_){\n    console.log('Save movie backend ',message);\n    let id = message._id\n    console.log(id)\n    console.log(API2,\"/\",id)\n    return axios.delete(API2+\"/\"+id);\n}\n"],"mappings":";;AAAA,SAAQA,OAAR,QAAsB,gBAAtB;AAEA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAGA,MAAMC,GAAG,GAAGJ,OAAO,GAAC,0BAApB;AACA,MAAMK,IAAI,GAAGL,OAAO,GAAC,WAArB;AAEA,OAAO,SAASM,aAAT,GAAyB;EAAA;;EAAA;;EAC5B,MAAMC,QAAQ,GAAG,YAAY;IAAA;;IACzB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAkBN,QAAQ,CAAC,EAAD,CAAhC;;IACA,IAAI;MACN,MAAMO,SAAS,GAAG,MAAMT,KAAK,CAACU,GAAN,CAAUP,GAAV,CAAxB;MAEIK,QAAQ,CAACC,SAAS,CAACE,IAAX,CAAR,CAHE,CAGyB;IAE5B,CALD,CAKE,OAAOC,GAAP,EAAY;MACZC,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,OAAlB;IACD;EACF,CAVH;;EAD4B,GACtBT,QADsB;;EAY1BL,SAAS,CAAC,MAAI;IAEZK,QAAQ;IACR,OAAOC,KAAP;EACH,CAJU,EAIT,EAJS,CAAT;AAKL;;IAjBeF,a;;AAkBhB,OAAO,SAASW,WAAT,CAAqBD,OAArB,EAAsC;EACzCF,OAAO,CAACI,GAAR,CAAY,qBAAZ,EAAkCF,OAAlC;EACA,OAAOf,KAAK,CAACkB,IAAN,CAAWd,IAAX,EAAgBW,OAAhB,CAAP;AACH;AACD,OAAO,SAASI,aAAT,CAAuBJ,OAAvB,EAAwC;EAC3CF,OAAO,CAACI,GAAR,CAAY,qBAAZ,EAAkCF,OAAlC;EACA,IAAIK,EAAE,GAAGL,OAAO,CAACM,GAAjB;EACAR,OAAO,CAACI,GAAR,CAAYG,EAAZ;EACAP,OAAO,CAACI,GAAR,CAAYb,IAAZ,EAAiB,GAAjB,EAAqBgB,EAArB;EACA,OAAOpB,KAAK,CAACsB,MAAN,CAAalB,IAAI,GAAC,GAAL,GAASgB,EAAtB,CAAP;AACH"},"metadata":{},"sourceType":"module"}